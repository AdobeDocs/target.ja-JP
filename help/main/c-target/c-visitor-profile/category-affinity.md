---
keywords: 親和性、カテゴリ親和性
description: ユーザーが訪問するカテゴリを自動的にキャプチャし、そのカテゴリに対するユーザーの親和性を計算することで、ターゲット設定とセグメント化を可能にする  [!DNL Adobe Target]  のカテゴリ親和性について学びます。
title: カテゴリ親和性とは
feature: Audiences
exl-id: 9478a7fb-e4b5-46d9-be73-b72cb99c3e5e
source-git-commit: 80481a149d436f13bd510c4c4287d447799afbb4
workflow-type: tm+mt
source-wordcount: '865'
ht-degree: 97%

---

# カテゴリ親和性

[!DNL Adobe Target] のカテゴリ親和性機能では、ユーザーが訪問したサイト内のカテゴリを自動的にキャプチャし、各カテゴリに対するユーザーの親和性を計算することで、ターゲット設定やセグメント化をすることができます。カテゴリ親和性によって、コンテンツ情報に基づいて行動を起こす可能性が最も高い訪問者に、コンテンツをターゲット設定することができます。

## カテゴリ親和性情報の [!DNL Target] への引き渡し {#section_B0C8E46EEBAC4549AD90352A47787D04}

ユーザーがサイトを訪問したときには常に、訪問者に固有のプロファイルパラメーターが [!DNL Target] データベースに記録されます。データはユーザーの Cookie に結び付けられます。便利なパラメーターとして、製品ページに割り当てられた mbox パラメーターの `user.categoryId` があります。訪問者が閲覧を続けるか、別のセッションに戻る場合に、特定のユーザーが閲覧する製品のカテゴリを記録することができます。カテゴリ情報の記録は、任意の mbox（ネストされた mbox を含む）の mbox パラメーター `user.categoryId` または URL パラメーター `user.categoryId` として、またはグローバル mbox を使用した ページのパラメーターで渡すことによっても実行できます。[!DNL Target]詳しくはアカウント担当者にお問い合わせください。

項目を複数のカテゴリに含めるには、カテゴリをコンマで区切ります。次に例を示します。

* `user.categoryId=clothing,shoes,nike,running,nike clothing,nike shoes,nike running shoes`

製品カテゴリに対する訪問の頻度とリーセンシーに基づいて、ユーザーのカテゴリ親和性が（存在する場合）記録されます。カテゴリ親和性は、アクティビティに対して訪問者をターゲット設定するために使用できます。

プロファイルスクリプト `user.categoryAffinities[]` では、訪問者が入力した親和性の配列を返すことができます。詳しくは、[プロファイル属性にあるオブジェクトおよびメソッドの下の user.categoryAffinities](/help/main/c-target/c-visitor-profile/profile-parameters.md#objects) を参照してください。

>[!IMPORTANT]
>
>カテゴリ親和性アルゴリズムに使用する `user.categoryId` 属性は、[!DNL Adobe Target Recommendations] の製品およびコンテンツレコメンデーションに使用される `entity.categoryId` 属性とは異なります。ユーザーのお気に入りのカテゴリを追跡するには、`user.categoryId` が必要です。現在のページのカテゴリまたは現在の項目のカテゴリに関するレコメンデーションをベースにするには、`entity.categoryId` が必要です。両方の機能を使用したい場合、両方の値を [!DNL Target] に渡します。

## カテゴリ親和性のビジネス事例 {#section_D6FF913E88E6486B8FBCE117CA8B253B}

訪問者が最も頻繁に閲覧するカテゴリなどの、1 つのセッション内の訪問者のアクティビティは、その後の訪問でのターゲット設定に使用できます。訪問者がセッションの実行中に閲覧したそれぞれのカテゴリページがキャプチャされ、最新性と頻度のモデルに基づいて、その訪問者の「お気に入り」のカテゴリが算出されます。次に、訪問者がホームページに戻るたびに、そのユーザーのお気に入りのカテゴリに関連したコンテンツを表示するように、ヒーロー画像領域をターゲット設定できます。

## カテゴリ親和性の使用例 {#section_A4AC0CA550924CB4875F4F4047554C18}

楽器をオンラインで販売し、過去にギターへの関心を示した訪問者に対して、ベースギターの販売プロモーションをターゲット設定するとします。カテゴリ親和性を使用して、このカテゴリ親和性を持つ訪問者のみに表示するオファーを作成できます。

## カテゴリ親和性のアルゴリズム {#section_8B86C7FF50294208866ABF16F07D5EB9}

カテゴリ親和性のアルゴリズムは以下のように機能します。

* 最初に閲覧されたカテゴリには 10 ポイント
* 最初のカテゴリをクリックした後に閲覧された各カテゴリには 5 ポイント
* 新しいカテゴリがクリックされると、前にクリックされたすべてのカテゴリから 1 が減算されます
* カテゴリが既にクリックされていた場合（表示されている場合）、そのカテゴリをもう一度クリックしても、他のすべてのカテゴリから 1 を減算することはありません
* 6番目の新しいカテゴリがクリックされると、最初の5つのカテゴリの最も低いスコアカテゴリが計算から除外されます
* セッションの終了時に、すべての値を2で除算します

>[!NOTE]
>
>1 回の mbox 呼び出し内で複数のカテゴリが渡される場合、`categoryAffinities` のカテゴリの順序は保証されません。最初に任意のカテゴリが記録され、10 のスコアが付けられます。

### 例：カテゴリ親和性のアルゴリズム

たとえば、セッションで`mens-clothing`カテゴリ、`accessories`、`jewelry`、さらに `accessories`を表示すると次のようになります。

* `accessories`: 9 (+5 – 1 + 5)

* `mens-clothing`: 8 (+10 – 1 – 1)

* `jewelry`: 5 (+5)

セッションが終了し、ユーザーが後でサイトに戻ると、スコアは半分になります。

* `accessories`: 4.5 (9/2)

* `mens-clothing`: 4 (8/2)

* `jewelry`: 2.5 (5/2)

次に、ユーザーが、`jewelry`、`accessories`、`beauty`、`shoes`、および `womens-clothing` を順に表示するとします。

* `accessories`: 6.5 (4.5 + 5 – 1 – 1 - 1)

* `womens-clothing`: 5 (+5)

* `jewelry`: 4.5 (2.5 + 5 – 1 – 1 - 1)

* `shoes`: 4 (+5 – 1)

* `beauty`: 3 (+5 – 1 - 1)

* `womens-clothing`の最後のクリックの後、`mens-clothing`がスコア 1 の最低スコアのカテゴリとしてドロップされます（4 – 1 – 1 - 1）

セッションが終了し、ユーザーが後でサイトに戻ると、スコアは半分になります。

* `accessories`: 3.3 (6.5/2)

* `womens-clothing`: 2.5 (5/2)

* `jewelry`: 2.3 (4.5/2)

* `shoes`: 2 (4/2)

* `beauty`: 1.5 (3/2)

## ターゲティングのためのカテゴリ親和性の使用 {#concept_5750C9E6C97A40F8B062A5C16F2B5FFC}

次の節では、アクティビティでターゲット設定をするためのカテゴリ親和性オーディエンスを使用する際に役立つ情報を紹介します。

### カテゴリ親和性を使用するオーディエンスの作成 {#section_A27C600BBA664FE7A74F8FE076B78F40}

1. **[!UICONTROL Audiences]** リストで、「**[!UICONTROL Create Audience]**」をクリックします。

   または

   既存のオーディエンスをコピーするには、オーディエンスのリストから目的のオーディエンスにマウスポインターを置き、コピーアイコンをクリックします。これにより、そのオーディエンスを編集して類似のオーディエンスを作成することができます。

1. わかりやすいオーディエンスの名前を入力します。
1. **[!UICONTROL + Add Rule]**／**[!UICONTROL Visitor Profile]**&#x200B;をクリックします。
1. 「**[!UICONTROL Visitor Profile]**」ドロップダウン・リストから「**[!UICONTROL Category Affinity]**」を選択します。

   ![訪問者プロファイル／カテゴリ親和性](assets/affinity.png)

1. 目的のカテゴリを選択します。

   ![カテゴリ親和性／カテゴリ](assets/affinity-category.png)

   カテゴリには、以下が含まれます。

   * お気に入りのカテゴリ
   * 最初のカテゴリ
   * 2 番目のカテゴリ
   * 3 番目のカテゴリ
   * 4 番目のカテゴリ
   * 5 番目のカテゴリ

   「お気に入りのカテゴリ」と「最初のカテゴリ」のオプションは同等じです。

1. 評価基準を選択します。

   * 次を含む（大文字と小文字を区別しない）
   * 次を含まない（大文字と小文字を区別しない）
   * 次と等しい

1. 新しい値はそれぞれ別の行（例えば、「靴」）に指定します。
1. **[!UICONTROL Save]** をクリックします。

### アクティビティにおけるカテゴリ親和性オーディエンスの使用 {#section_91526B942D1B4AEBB8FCDF4EBFF931CF}

カテゴリの親和性オーディエンスはどのアクティビティでも使用できます。3 ステップのガイドによるワークフローの [!UICONTROL Target] のステップで、目的のオーディエンスを選択します。
