---
keywords: Overview and Reference;SEO;search engine optimization;edge clusters, central clusters;at.js;mbox.js;
description: Adobe Target は、at.js または mbox.js の 2 つの JavaScript ライブラリのいずれかによって Web サイトと統合されます
title: Adobe Target の仕組み
feature: Overview
translation-type: tm+mt
source-git-commit: 4adade56529fb95e4400e06d04d3c6c69e120edc
workflow-type: tm+mt
source-wordcount: '2438'
ht-degree: 79%

---


# Adobe Target の仕組み

Target JavaScript ライブラリ（at.js および mbox.js）の情報や Target に含まれている様々なアクティビティタイプなど、Adobe Target の動作の仕組みについて説明します。

## Target JavaScript ライブラリ {#libraries}

Adobe Targetは、JavaScriptライブラリを使用してWebサイトと統合します。

* **at.js：**[at.js library ](/help/c-implementing-target/c-implementing-target-for-client-side-web/t-mbox-download/c-target-atjs-implementation/target-atjs-implementation.md#concept_8AC8D169E02944B1A547A0CAD97EAC17) は、Target の新しい実装ライブラリです。at.js ライブラリは、Web 実装のページ読み込み時間を改善し、シングルページアプリケーション向けのより優れた実装オプションを提供します。at.js は推奨される実装ライブラリであり、頻繁にアップデートされて新しい機能が追加されます。すべてのお客様に対して、[at.js の最新バージョン](/help/c-implementing-target/c-implementing-target-for-client-side-web/target-atjs-versions.md#reference_DBB5EDB79EC44E558F9E08D4774A0F7A)を実装するか、最新バージョンに移行することをお勧めします。
* **Adobe Experience PlatformWeb SDK:** Adobe Experience PlatformWeb  [SDKは、](https://experienceleague.adobe.com/docs/experience-platform/edge/home.html) Edgeネットワークを [!DNL Adobe Experience Cloud]  [!DNL Experience Cloud]  [!DNL Adobe Experience Platform] 介して様々なサービスを利用できる、新しいクライアント側のJavaScriptライブラリです。
* **mbox.js：**[mbox.js ライブラリは、Target のレガシー実装ライブラリです。](/help/c-implementing-target/c-implementing-target-for-client-side-web/t-mbox-download/mbox-download.md)mbox.jsライブラリは2021年3月31日までサポートされますが、機能は更新されません。

>[!IMPORTANT]
>
>すべてのお客様が at.js に移行する必要があります。詳しくは、「[mbox.js から at.js への移行](/help/c-implementing-target/c-implementing-target-for-client-side-web/t-mbox-download/c-target-atjs-implementation/target-migrate-atjs.md#task_DE55DCE9AC2F49728395665DE1B1E6EA)」を参照してください。

サイト上のすべてのページで Target JavaScript ライブラリファイルを参照する必要があります。例えば、これをグローバルヘッダーに追加します。または、[Adobe Launch タグマネージャー](/help/c-implementing-target/c-implementing-target-for-client-side-web/how-to-deployatjs/cmp-implementing-target-using-adobe-launch.md)の使用を検討します。

訪問者が Target に最適化されたページを要求するたびに、そのリクエストがターゲット設定システムに送信され、訪問者に提供するコンテンツが特定されます。このプロセスはリアルタイムで実行されます。つまり、ページが読み込まれるたびに、コンテンツへのリクエストが作成され、システムで処理されます。コンテンツは、マーケティング担当者が制御するアクティビティおよびエクスペリエンスのルールによって管理され、個々のサイト訪問者がターゲットになります。応答率、獲得率および売上高が最大化されるように、各サイト訪問者が応答し、やり取りをおこない、最終的に購入する可能性の最も高いコンテンツが提供されます。

Target では、ページ上の各要素は、ページ全体の単一のエクスペリエンスの一部になります。各エクスペリエンスには、ページ上の複数の要素が含まれている可能性があります。

訪問者に表示されるコンテンツは、作成するアクティビティのタイプによって異なります。

### A/B テスト

詳細については、「[A/B テストの作成](/help/c-activities/t-test-ab/t-test-create-ab/test-create-ab.md)」を参照してください。

基本的な A/B テストで表示されるコンテンツは、各エクスペリエンスに対して選択したパーセンテージに従って、アクティビティに割り当てたアセットからランダムに選択されます。このランダムなトラフィック分割の結果、トラフィックの割合が均等化するまでの初期のトラフィック量が多くなる場合があります。例えば、2 つのエクスペリエンスを作成した場合、最初のエクスペリエンスはランダムに選択されます。トラフィック量がほとんどない場合は、訪問者の割合が一方のエクスペリエンスに偏っている可能性があります。トラフィックが増加するほど、その割合も均等化されていきます。

エクスペリエンスごとに割合のターゲットを指定できます。この場合、乱数が生成され、その乱数を使用して、表示するエクスペリエンスが選択されます。結果の割合が指定したターゲットと完全に一致しないこともありますが、トラフィックが多いほど、エクスペリエンスがターゲットに近い割合で分割されます。

1. 訪問者が、サーバー上のページをリクエストしてブラウザーに表示します。
2. ファーストパーティ Cookie が、訪問者行動を保存するために訪問者のブラウザー内に設定されます。
3. ページから、ターゲット設定システムが呼び出されます。
4. アクティビティのルールに基づいてコンテンツが表示されます。

### 自動配分

詳細については、「[自動配分](/help/c-activities/automated-traffic-allocation/automated-traffic-allocation.md#concept_A1407678796B4C569E94CBA8A9F7F5D4)」を参照してください。

自動配分では、2 つ以上のエクスペリエンスの中から勝者を特定したうえで、自動的にその勝者エクスペリエンスに配分するトラフィックを増やすことでコンバージョンを促進します。その間もテストによる学習は続けられます。

### 自動ターゲット（AT）

詳細については、「[自動ターゲット](/help/c-activities/auto-target/auto-target-to-optimize.md)」を参照してください。

自動ターゲットでは、高度な機械学習を利用して、マーケティング担当者が定義した高パフォーマンスのエクスペリエンスを複数選択します。また、個々の顧客プロファイルや同様のプロファイルを持つ過去の訪問者の行動に基づいて、各訪問者に詳細にカスタマイズしたエクスペリエンスを配信することで、コンテンツをパーソナライズしてコンバージョンを促進していきます。

### 自動パーソナライゼーション（AP）

詳しくは、[自動パーソナライゼーション](/help/c-activities/t-automated-personalization/automated-personalization.md#task_8AAF837796D74CF893CA2F88BA1491C9)を参照してください。

自動パーソナライゼーション（AP）では、オファーやメッセージを組み合わせて、高度な機械学習を使用することで、個々の顧客プロファイルに合わせて各訪問者に様々なオファーのバリエーションを表示しながら、コンテンツをパーソナライズして上昇率を高めます。

### エクスペリエンスターゲット設定（XT）

[エクスペリエンスのターゲット設定](/help/c-activities/t-experience-target/experience-target.md#task_A53DF336CB9F4D7BB87EF2106099EFC4)

エクスペリエンスのターゲット設定（XT）では、マーケティング担当者が定義した一連のルールや条件を基にして、特定のオーディエンスにコンテンツを配信します。

エクスペリエンスのターゲット設定（ジオターゲティングを含む）は、特定のオーディエンスに特定のエクスペリエンスまたはコンテンツをターゲット設定するルールを定義する際に有効です。アクティビティで複数のルールを定義して、様々なオーディエンスに異なるコンテンツのバリエーションを提供します。訪問者がサイトを表示すると、エクスペリエンスのターゲット設定（XT）は、その訪問者を評価して、設定した条件を満たしているかどうかを判断します。条件に一致した場合、その訪問者はアクティビティに組み込まれて、条件が一致したオーディエンス用に設計されたエクスペリエンスが表示されます。単一のアクティビティ内で、複数のオーディエンスに対してエクスペリエンスを作成できます。

### 多変量分析テスト（MVT）

詳しくは、[多変量分析テスト](/help/c-activities/c-multivariate-testing/multivariate-testing.md#concept_628695CDC71B449B8DCC2F5654C11499)を参照してください。

多変量分析テスト（MVT）では、ページ上の要素内のオファーの組み合わせを比較し、特定のオーディエンスに対して最も効果が高い組み合わせと、アクティビティの成功に最も効果が高い要素を特定します。

### Recommendations

詳細については、「[Recommendations ](/help/c-recommendations/recommendations.md#concept_7556C8A4543942F2A77B13A29339C0C0)」を参照してください。

Recommendations のアクティビティは、以前のユーザーアクティビティまたはその他のアルゴリズムを基にして、顧客が興味を持つ可能性のある製品またはコンテンツを自動的に表示します。Recommendations により、顧客が関心を持ちそうな商品を積極的に紹介することが可能になります。

## エッジネットワーク{#concept_0AE2ED8E9DE64288A8B30FCBF1040934}

「Edge」は、コンテンツを要求するエンドユーザーが世界中のどこにいても最適な応答時間を確保できる、地理的に分散された配信アーキテクチャです。

応答時間を改善するために、ターゲットエッジはアクティビティロジック、キャッシュされたプロファイル、オファー情報のみをホストします。

アクティビティおよびコンテンツのデータベース、[!DNL Analytics]データ、API、およびマーケティング担当者向けのユーザーインターフェイスは、AdobeのCentral Clustersに格納されます。 更新がターゲットエッジに送信されます。 Central ClustersとEdge Clustersは自動的に同期され、キャッシュされたアクティビティデータが継続的に更新されます。 すべての1:1モデリングも各エッジに保存されるので、より複雑なリクエストもエッジで処理できます。

各Edge Clusterには、ユーザーのコンテンツリクエストに応答し、そのリクエストに関する分析データを追跡するために必要なすべての情報が含まれます。 ユーザーリクエストは、最も近いエッジクラスターにルーティングされます。

詳しくは、『[Adobe Target Security Overview](https://www.adobe.com/content/dam/cc/en/security/pdfs/AdobeTargetSecurityOverview.pdf)』ホワイトペーパーを参照してください。

[!DNL Adobe Target]ソリューションは、世界中のAdobeが所有するデータセンターとAdobeがリースしたデータセンターにホストされています。

Central Clusterの場所には、データ収集センターとデータ処理センターの両方が設置されています。 Edge Clusterの場所には、データ収集センターのみが設置されています。 個々のレポートスイートは特定のデータ処理センターに割り当てられています。

顧客サイトのアクティビティデータは、7つのエッジクラスターの最も近いものによって収集され、お客様の事前に決定されたCentral Clusterの宛先（次の3つの場所のいずれか）に送られます。オレゴン、ダブリン、シンガポール)を処理します。 訪問者プロファイルデータは、サイト訪問者に最も近いEdge Clusterに保存されます（Central Clusterの場所と、Virginia、Amsterdam、Sydney、Tokyo、Hong Kongなど）。

1つの場所からすべてのターゲットリクエストに応答する代わりに、訪問者に最も近いEdge Clusterでリクエストが処理されるので、ネットワークやインターネットでの移動にかかる時間の影響を軽減できます。

![ターゲットサーバーマップの種類](/help/c-intro/assets/target-servers.png)

Amazonウェブサービス(AWS)でホストされるターゲットCentral Clustersは、次の場所にあります。

* 米国オレゴン
* アイルランドダブリン
* シンガポール共和国

AWSでホストされるターゲットエッジクラスターは、次の場所にあります。

* ムンバイ（インド）
* 東京（日本）
* バージニア、米国
* 米国オレゴン
* シドニー、オーストラリア
* アイルランドダブリン
* シンガポール共和国

[!DNL Target Recommendations]サービスはオレゴンの[!DNL Adobe]データセンターでホストされています。

>[!IMPORTANT]
>
>[!DNL Adobe Target] 現在、中国にはEdge Clusterがありません。エンドユーザーのパフォーマンスは、中国の [!DNL Target] お客様には引き続き制限されます。ファイアウォールと国内のエッジクラスターが不足しているため、[!DNL Target]がデプロイされたサイトの表示は遅くなり、ページの読み込みに影響を与えます。 また、[!DNL Target]オーサリングUIを使用すると遅延が発生する場合があります。

必要に応じて、ターゲットエッジクラスターを許可リストできます。 詳しくは、[許可リストターゲットのエッジノード](/help/c-implementing-target/c-considerations-before-you-implement-target/allowlist-edges.md)を参照してください。

## 保護されたユーザーエクスペリエンス{#concept_40A5E781D90A41E4955F80EA9E5F8F96}

アドビは、ターゲット設定インフラストラクチャの可用性とパフォーマンスが可能な限り安定するようにしています。ただし、エンドユーザーのブラウザーとアドビのサーバー間の通信が切断されると、コンテンツ配信が中断される可能性があります。

サービスの中断や接続性の問題から保護するために、すべての場所にデフォルトコンテンツ（クライアントが定義）を設定します。このデフォルトコンテンツは、ユーザーのブラウザーが [!DNL Target] に接続できない場合に表示されます。

ユーザーのブラウザーが、定義されたタイムアウト時間（デフォルトは 15 秒）以内に接続できない場合は、ページは変更されず、デフォルトのままになります。このタイムアウトのしきい値に達した場合、デフォルトの場所のコンテンツが表示されます。

アドビは、パフォーマンスの最適化と保護によってユーザーエクスペリエンスを保護しています。

* アドビは、業界標準に基づいたパフォーマンスベンチマークを実施しており、このベンチマークはアドビのサービス契約によって保証されています。
* Edge ネットワークによって、タイムリーなデータ配信を実現しています。
* アプリケーションをセキュリティ保護するための多層型アプローチを使用し、お客様に対して最高レベルの可用性と信頼性を確保しています。
* [!DNL Target] コンサルティングは、導入支援と継続的な製品サポートをおこなっています。

## 検索エンジン最適化（SEO）対応テスト {#concept_C0C865663CAB4251B66A1F250FD25E6A}

[!DNL Adobe Target] はテストのための検索エンジンガイドラインに従っています。

Google はユーザーテストを推奨するとともに、ドキュメンテーションで、いくつかの簡単なガイドラインに従えば A/B と多変量分析テストは自然検索エンジンのランキングを損なうことはない、と説明しています。

詳しくは、次の Google のリソースを参照してください。

* [ウェブテストが Google 検索に与える影響](https://webmasters.googleblog.com/2012/08/website-testing-google-search.html)
* [ウェブテストとクローキング](https://support.google.com/analytics/answer/2576845?hl=en&amp;ref_topic=1745207)

ガイドラインは[Google ウェブマスター向け公式ブログ](https://webmasters.googleblog.com/2012/08/website-testing-google-search.html)の投稿として公表されています。この投稿は 2012 年のものですが、この問題に関する Google からの最新の発言であり、ガイドラインは現在でも通用します。

* **クローキングをしない** - クローキングとは、検索エンジンボットを特別に識別し、意図的に異なるコンテンツをフィードすることで、ユーザー向けとは別のコンテンツを検索エンジンボット向けに表示することです。

   Target は、プラットフォームとしては検索エンジンボットを他のユーザーと同様に扱うよう設定されています。このため、ボットがランダムに選択してテストのバリエーションを「見た」場合、実行するテストにボットも含まれる場合があります。

* **rel=&quot;canonical&quot; を使う** - バリエーションを付けるために異なる URL を使用して A/B テストを設定する必要のあることがあります。これらの場合、元来の（コントロール）URL を参照する `rel="canonical"` タグをすべてのバリエーションに含ませます。例えば、Adobe がバリエーションごとに異なる URL を使用してホームページをテストしていた場合、ホームページの次の canonical タグをそれぞれのバリエーションの `<head>` タグに入れます。

   `<link rel="canonical" href="https://www.adobe.com" />`

* **302（一時的）リダイレクトを使う** - テストで複数バリエーションのページで異なる URL が使用される場合、Google は 302 リダイレクトを使用してテストバリエーションに直接トラフィックをリダイレクトすることを勧めています。こうすると、リダイレクトは一時的で、テストが動作している間のみ有効なものである、と検索エンジンに教えることになります。

   302 リダイレクトは、サーバー側のリダイレクトで、Target は他の大多数の最適化プロバイダーと同様、クライアント側の機能を使います。このため、これは Target が Google の推奨事項に完全に準拠していない部分になります。ただし、これはほんの一部のテストに影響するだけです。Target でテストを実行するための基本的アプローチは、1 つの URL 内でコンテンツを変更することであり、リダイレクトの必要はありません。クライアントのテストバリエーションに相当するように複数の URL を使う必要がある場合もあります。そういった場合には、Target は JavaScript の `window.location` コマンドを使い、テストバリエーションにユーザーをリダイレクトしますが、この方法では、リダイレクトが 301 なのか 302 なのか、明示的に示しません。

   Adobe では、検索エンジンガイドラインに完全に即した実現可能な解決策を見つける努力を続けますが、テストに複数の URL を使わなければならないクライアントでも、上に記述した通り canonical タグの適切な実装をおこなうことで、この方法にまつわるリスクを軽減できる、と確信しています。

* **テスト期間は必要な期間だけにする** - 「必要な期間」とは統計的有意性に到達するまでの期間と考えます。Target は、テストがこの時点に到達した時を判断するための[ベストプラクティスを提供](https://docs.adobe.com/content/target-microsite/testcalculator.html)します。勝者テストのハードコード実装をテストワークフローに導入し、適切なリソースを割り当てることをお勧めします。

   Target プラットフォームを使用して、勝者テストを「公開」することは、恒久的な解決策としては推奨されていませんが、100％ のユーザーに 100％ の確率で勝者テストが公開されている限り、勝者テストのハードコード処理が完了するまでこの方法を使うことができます。

   テストが変更した点に留意することも大切です。単純にページ上のボタンの色やその他文字ベースでないアイテムを更新しても、自然ランキングには大きな影響はありません。ただし、文字の変更はハードコードする必要があります。

   テストしているページへのアクセスのしやすさに留意することも大切です。電子メールキャンペーンのランディングページなど、検索エンジンからはアクセスできず、もともと自然検索でランク付けされるようにデザインされていないページには、上記の留意事項はどれも適用されません。

Google によると、これらのガイドラインに従えば、「テストがサイトの検索結果に及ぼす影響はほとんどあるいはまったくない。」とのことです。

これらのガイドラインに加えて、Google はまた、Content Experiments ツールのドキュメンテーションでもう 1 つのガイドラインを提供しています。

* 「バリエーションの各ページは、元来のページ内容の主旨を保持する必要があります。こういったバリエーションは、元来の内容に対しユーザーが持つ全般的イメージを変えてはいけません。」

Google は例として、「ユーザーに表示される組み合わせに関連しないキーワードでサイトの元来のページが読み込まれる場合、そのサイトを Google のインデックスから外すことがあります」と記述しています。

複数のテストバリエーションによって意図せず元来のページの意味を変えてしまうことはあまりないと考えますが、ページのキーワードテーマに気をつけ、それらの用語を保持することをお勧めします。ページ内容を変更、特に関連のあるキーワードを追加したり削除したりすると、自然検索でのその URL のランキングが変わってしまう場合があります。テストプロトコールの一部として、SEO パートナーに協力を仰ぐことをお勧めします。

## ボット {#bots}

Adobe Targetは、[DeviceAtlas](https://deviceatlas.com/)を使用して既知のボットを検出します。 ボットによって生成されたと識別されたトラフィックには、SEO ガイドラインに沿うように、依然として一般ユーザーのようにコンテンツが提供されます。ボットトラフィックの使用は、通常のユーザーのように扱われると、A/B テストやパーソナライゼーションアルゴリズムをゆがめる可能性があります。したがって、Target アクティビティで既知のボットが検出されると、そのトラフィックは、少し違うように扱われます。ボットトラフィックを削除することで、ユーザーアクティビティをより正確に測定できます。

特に、既知のボットトラフィックの場合、Target は以下をおこないません。

* 訪問者プロファイルの作成または取得
* プロファイル属性の記録またはプロファイルスクリプトの実行
* Adobe Audience Manager（AAM）セグメントの検索（該当する場合）
* Recommendations、自動ターゲット、自動パーソナライゼーションまたは自動割り当てアクティビティ用のパーソナライズされたコンテンツのモデリングおよび提供でのボットトラフィックの使用
* レポート用のアクティビティ訪問の記録
* Adobe Experience Cloud プラットフォームに送信されたデータの記録
