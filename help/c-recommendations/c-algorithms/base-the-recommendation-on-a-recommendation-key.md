---
keywords: recommendation key;recommendation logic;current category;custom attribute;last purchased item;last viewed item;most viewed item;most viewed item;favorite category;popularity;recently viewed item;last purchased;last viewed;most viewed;favorite;recently viewed
description: キーに基づくRecommendationsは、訪問者の動作コンテキストを使用して、Adobe TargetRecommendationsアクティビティの関連結果を示します。
title: レコメンデーションキーに基づくレコメンデーションの設定
feature: criteria
mini-toc-levels: 2
translation-type: tm+mt
source-git-commit: 381c405e55475f2474881541698d69b87eddf6fb
workflow-type: tm+mt
source-wordcount: '2889'
ht-degree: 69%

---


# レコメンデーションキーに基づくレコメンデーションの設定

キーに基づくRecommendationsは、訪問者の動作コンテキストを使用して、[!DNL Adobe Target] [!DNL Recommendations]アクティビティに関連する結果を表示します。

レコメンデーションには次の 2 種類があります。

* **人気度：**&#x200B;最も多く閲覧された、販売数トップおよびトップの指標を基準に品目を表示します。人気度の条件では、キーは空になります。
* **キーベース：**&#x200B;他の条件で構成されます。キーのタイプに関しては、レコメンデーションでは様々なオプションを利用できます。「現在の品目/項目」から「プロファイルパラメーター」まで、様々なオプションが用意されているので、レコメンデーション対象の値のキーをプログラムによって設定できます。各条件の基準を異なるキーにすることで、複数の条件をテストして比較することもできます。

各条件は独自のタブで定義されます。トラフィックは、異なる条件のテスト全体で等しく分割されます。つまり、2 つの条件がある場合、トラフィックは等しく 2 分割されます。2 つの条件と 2 つのデザインがある場合、トラフィックは 4 つの組み合わせに対して等しく分割されます。さらに、比較のために、デフォルトコンテンツを表示するサイト訪問者の割合も指定できます。この場合、指定した割合の訪問者に対してデフォルトコンテンツが表示され、残りの割合の訪問者は条件とデザインの組み合わせの間で分割されます。

1. 新しい条件を作成するか、既存の条件を選択し、「**[!UICONTROL 編集]**」をクリックします。
1. レコメンデーションキーを変更するには、[!UICONTROL レコメンデーションキー]ドロップダウンリストから新しいキーを選択し、**[!UICONTROL 保存]**&#x200B;または&#x200B;**[!UICONTROL 更新]**&#x200B;をクリックします。

   異なるロジックが異なるレコメンデーションキーにマッピングされているので、異なるレコメンデーションは、ページの異なるタイプに配置するのに適しています。各レコメンデーションキーについて詳しくは、次の節を参照してください。

## 推奨キー

[!UICONTROL レコメンデーションキー]ドロップダウンリストから、次のレコメンデーションキーを使用できます。

### 現在の品目 {#current-item}

レコメンデーションは、訪問者が現在閲覧中の品目によって決定されます。

レコメンデーションは、指定した品目に興味を示している訪問者が興味を示す可能性のある他の品目を表示します。

このオプションを選択した場合、`entity.id` の値を表示 mbox でパラメーターとして渡す必要があります。

#### ロジック（条件）

* [!UICONTROL 類似の属性を持つ品目]
* [!UICONTROL これを閲覧した人が他に閲覧したもの]
* [!UICONTROL これを閲覧した人が購入したもの]
* [!UICONTROL これを購入した人が他に購入したもの]
* [!UICONTROL サイトの親和性]

#### サイトで使用する場所

* 商品ページなどの、単一の品目ページ。
* 検索結果が null のページに使用しないでください。

### 現在のカテゴリ {#current-category}

レコメンデーションは、訪問者が現在閲覧中の商品カテゴリによって決定されます。

レコメンデーションは、指定した商品カテゴリの品目を表示します。

このオプションを選択した場合、`entity.categoryId` の値を表示 mbox にパラメーターとして渡す必要があります。

#### ロジック（条件）

* トップセラー
* 最も頻繁に閲覧された

#### サイトで使用する場所

* 単一のカテゴリページ。
* 検索結果が null のページに使用しないでください。

### カスタム属性  {#custom}

レコメンデーションは、2 つの属性（user.*x* または profile.*x* 属性）のどちらかを使用して、訪問者のプロファイルに格納された品目によって決定されます。

このオプションを選択した場合、`entity.id` の値がプロファイル属性に存在する必要があります。

レコメンデーションをカスタム属性に基づいておこなう場合、カスタム属性を選択してからレコメンデーションタイプを選択する必要があります。

カスタム条件の出力にリアルタイムでフィルターを適用することができます。例えばレコメンデーション品目を、訪問者のお気に入りのカテゴリやブランドのものに絞ることができます。オフラインの計算結果とリアルタイムのフィルタリングを組み合わせることができます。

この機能により、[!DNL Target]を使用して、オフラインの計算済みレコメンデーションやカスタムキュレーションリストの上にパーソナライゼーションを追加できます。 これにより、データサイエンティストのスキルと、配信、ランタイムフィルタリング、A/B テスト、ターゲティング、レポート、統合などのアドビの実証済みの機能を連携させることができます。

カスタム条件にインクルージョンルールを追加することで、静的なレコメンデーションを、訪問者の興味に合わせた動的なレコメンデーションに変えることができます。

* カスタム条件は、レコメンデーションの他の条件と同じように変更可能です。
* 他の条件と同じ方法で、[コレクション](/help/c-recommendations/c-products/collections.md)、[除外](/help/c-recommendations/c-products/exclusions.md)、および[インクルージョン](/help/c-recommendations/c-algorithms/use-dynamic-and-static-inclusion-rules.md)（価格および在庫用の特殊なルールも含む）を使用できます。

主な使用例は次のとおりです。

* 独自に作成したリストのムービーをレコメンデーションしようと考えているが、まだ対象のムービーを視聴していない訪問者のみをターゲットにしたい。
* オフラインでアルゴリズムを実行し、その結果をレコメンデーションに生かそうと考えているが、在庫切れの品目はレコメンデーションの対象から外したい。
* 訪問者のお気に入りのカテゴリの品目のみに対象を絞りたい。

#### ロジック（条件）

* [!UICONTROL これを閲覧した人が他に閲覧したもの]
* [!UICONTROL これを閲覧した人が購入したもの]
* [!UICONTROL これを購入した人が他に購入したもの]
* [!UICONTROL 総合的な行動]
* [!UICONTROL 最も頻繁に閲覧された]
* [!UICONTROL トップセラー]

キーがカスタムプロファイル属性で、アルゴリズムのタイプが最も頻繁に閲覧された、またはトップセラーの場合は、「次の一意の値でグループ化」という新しいドロップダウンリストが表示されます。このリストには既知のエンティティ属性（ID、カテゴリ、利益、値、在庫、環境を除く）が表示されます。このフィールドは必須です。

#### サイトで使用する場所

* どのページでも使用できます。

#### カスタムレコメンデーションキー

カスタムプロファイル属性の値に基づいてレコメンデーションを設定できます。例えば、訪問者のキューに訪問者自身が最近追加したムービーに基づいて、お勧めのムービーを表示するとしましょう。

1. **[!UICONTROL レコメンデーションキー]**&#x200B;ドロップダウンリストからカスタムプロファイル属性（例：「ウォッチリストに最近追加した番組」）を選択します。
1. 次に、「**[!UICONTROL レコメンデーションロジック]**」を選択します（例：「これを閲覧した人が他に閲覧したもの」）。

   ![新しい条件の作成ダイアログボックス](/help/c-recommendations/c-algorithms/assets/create-new-criteria-1.png)

カスタムプロファイル属性と直接一致するエンティティ ID がない場合は、エンティティとの照合方法を [!DNL Recommendations] に指示する必要があります。例えば、訪問者のお気に入りのブランドからトップセラー商品を表示するとしましょう。

1. **[!UICONTROL レコメンデーションキー]**&#x200B;ドロップダウンリストからカスタムプロファイル属性（例：「お気に入りのブランド」）を選択します。

1. 次に、このキーで使用する「**[!UICONTROL レコメンデーションロジック]**」を選択します（例：「トップセラー」など）。

   「[!UICONTROL 次の一意の値でグループ化]」オプションが表示されます。

1. 選択したキーに一致するエンティティ属性を選択します。この場合は、「お気に入りのブランド」が `entity.brand` に一致します。

   [!DNL Recommendations] では、各ブランドの「トップセラー」リストを生成し、訪問者の「お気に入りのブランド」プロファイル属性に保存されている値に基づいて、適切な「トップセラー」リストを訪問者に表示します。

   ![新しい条件の作成ダイアログボックス 2](/help/c-recommendations/c-algorithms/assets/create-new-criteria-2.png)

### お気に入りのカテゴリ {#favorite-category}

レコメンデーションは、最も多くのアクティビティを受信したカテゴリによって決定されます。商品ではなくカテゴリにポイントが付けられることを除き、「最も多く閲覧された品目」と同じメソッドを採用します。

これは次のように動作するリーセンシー／頻度条件により決定されます。

* 初回のカテゴリ閲覧は 10 ポイント
* 以降の閲覧は毎回 5 ポイント

最初に訪問したカテゴリには、10 ポイントが付与されます。同じカテゴリへの次の訪問には、5 ポイントが付与されます。訪問ごとに、以前表示した現在のカテゴリ以外のカテゴリは、1 ポイントずつ減点されます。

例えば、1 つのセッションでカテゴリ A を閲覧後にカテゴリ B を閲覧すると、その結果は A：9、B：10 になります。次のセッションで同じ品目を閲覧すると、値は 「A：20 B：9」 に変化します。

#### ロジック（条件）

* [!UICONTROL トップセラー]
* [!UICONTROL 最も頻繁に閲覧された]

#### サイトで使用する場所

* ホームまたはランディングページとオフサイト広告などの、一般的なページ。

### 最後に購入された品目 {#last-purchased}

レコメンデーションは、個別の訪問者が購入した最後の品目によって決定されます。これは自動的に取り込まれるので、ページに値を渡す必要はありません。

#### ロジック（条件）

* [!UICONTROL 類似の属性を持つ品目]
* [!UICONTROL これを閲覧した人が他に閲覧したもの]
* [!UICONTROL これを閲覧した人が購入したもの]
* [!UICONTROL これを購入した人が他に購入したもの]
* [!UICONTROL サイトの親和性]

#### サイトで使用する場所

* ホームページ、マイアカウントページ、オフサイト広告。
* 商品ページまたは購入に関連するページには使用しないでください。

### 最後に閲覧された品目  {#last-viewed}

レコメンデーションは、個別の訪問者が閲覧した最後の品目によって決定されます。これは自動的に取り込まれるので、ページに値を渡す必要はありません。

#### ロジック（条件）

* [!UICONTROL 類似の属性を持つ品目]
* [!UICONTROL これを閲覧した人が他に閲覧したもの]
* [!UICONTROL これを閲覧した人が購入したもの]
* [!UICONTROL これを購入した人が他に購入したもの]
* [!UICONTROL サイトの親和性]

#### サイトで使用する場所

* ホームページ、マイアカウントページ、オフサイト広告。
* 商品ページまたは購入に関連するページには使用しないでください。

### 最も多く閲覧された品目  {#most-viewed}

レコメンデーションは、最も頻繁に閲覧された品目によって決定され、お気に入りのカテゴリに使用されたのと同じメソッドを採用します。

これは次のように動作するリーセンシー／頻度条件により決定されます。

* 初回の商品閲覧は 10 ポイント
* 以降の閲覧は毎回 5 ポイント
* セッションの終わりにすべての値を 2 で割る

例えば、1 つのセッションで surfboardA を閲覧後に surfboardB を閲覧すると、その結果は A：10、B：5 になります。セッションの終了時には、A：5、B：2.5 になります。次のセッションで同じ品目を閲覧すると、値は A：15、B：7.5 に変化します。

#### ロジック（条件）

* [!UICONTROL 類似の属性を持つ品目]
* [!UICONTROL これを閲覧した人が他に閲覧したもの]
* [!UICONTROL これを閲覧した人が購入したもの]
* [!UICONTROL これを購入した人が他に購入したもの]
* [!UICONTROL サイトの親和性]

#### サイトで使用する場所

* ホームまたはランディングページとオフサイト広告などの、一般的なページ。

### 人気度  {#popularity}

レコメンデーションはサイトでの人気度によって決定されます。人気度には、トップセラーや mbox データによる最多閲覧、また Adobe Analytics を使用している場合は、商品レポートで使用できるすべての指標が加味されます。選択したレコメンデーションロジックに基づいて品目がランク付けされます。

#### ロジック（条件）

* [!UICONTROL トップセラー]
* [!UICONTROL 最も頻繁に閲覧された]
* 製品レポート指標（Adobe Analytics を使用している場合）

#### サイトで使用する場所

* ホームまたはランディングページとオフサイト広告などの、一般的なページ。

### 最近表示された項目  {#recently-viewed}

訪問者の履歴（複数セッションにわたる）を使用して、デザインのスロット数に基づいて、訪問者が閲覧した最後の *x* 品目を提示します。

最近表示した項目の条件は、指定した[環境](/help/administrating-target/hosts.md)に固有の結果を返します。 別々の環境に属する 2 つのサイトがあり、訪問者がそれらのサイト間を移動した場合、各サイトでは、そのサイトで最近表示された項目のみが表示されます。同じ環境に属する 2 つのサイトがあり、訪問者がそれらのサイト間を移動した場合、訪問者には、両方のサイトで最近表示された共通の項目が表示されます。

>[!NOTE]
>
>代替レコメンデーションには、[!UICONTROL 最近表示された品目]条件を使用できません。

最近表示された項目／メディアは、フィルターを適用し、特定の属性を含む項目のみを表示できます。

* 最近表示された項目の条件は、レコメンデーションの他の条件と同じように変更可能です。
* 他の条件と同じ方法で、[コレクション](/help/c-recommendations/c-products/collections.md)、[除外](/help/c-recommendations/c-products/exclusions.md)、および[インクルージョン](/help/c-recommendations/c-algorithms/use-dynamic-and-static-inclusion-rules.md)（価格および在庫用の特殊なルールも含む）を使用できます。

主な使用例は次のとおりです。

複数のビジネスを営む多国籍企業で、複数のデジタルプロパティで項目を閲覧する訪問者がいるとします。その場合は、最近表示した項目をレコメンデーションする場所を、それが表示された各プロパティのみに制限できます。これにより、最近表示した項目が別のデジタルプロパティのサイトに表示されるのを防ぎます。

#### サイトで使用する場所

* ホームまたはランディングページとオフサイト広告などの、一般的なページ。

>[!NOTE]
>
>[!UICONTROL 最近表示した] 項目では、アクティビティのグローバル設定と選択したコレクション設定の両方が除外されます。項目がグローバル除外で除外された場合、または選択したコレクションに含まれていない場合、項目は表示されません。したがって、[!UICONTROL 最近表示した項目]の条件を使用する場合は、通常、「すべてのコレクション」設定を使用する必要があります。

## 推奨ロジック

[!DNL Target Recommendations] は、高度なアルゴリズムを使用して、訪問者のアクションがアクティビティに設定された条件に該当するタイミングを決定します。レコメンデーションキーは、利用可能なレコメンデーションロジックオプションを決定します。

次のレコメンデーションロジック（条件）は、[!UICONTROL レコメンデーションロジック]ドロップダウンリストから利用できます。

### 類似の属性を持つ品目／メディア {#similar-attributes}

現在のページアクティビティまたは過去の訪問者の行動に基づいた品目またはメディアに類似した品目またはメディアをレコメンドします。

「類似の属性を持つアイテム/メディア」を選択した場合は、コンテンツの類似性ルールを設定できます。

コンテンツの類似性を使用したレコメンデーションの生成は、新しい品目に対して特に効果的です。レコメンデーションでは、過去の行動に基づく「これを閲覧した人」、「これを表示した人」、その他のロジックを使用します。 また、コンテンツの類似性を使用すると、過去の購入などの履歴データがない新規訪問者に対する便利なレコメンデーションを生成することもできます。

詳しくは、[コンテンツの類似性](/help/c-recommendations/c-algorithms/create-new-algorithm.md#similarity)を参照してください。

このロジックは、次のレコメンデーションキーで使用できます。

* 現在の品目
* 最後に購入された品目
* 最後に閲覧された品目
* 最も多く閲覧された品目

### 最も頻繁に閲覧された {#most-viewed-logic}

サイトで最も頻繁に表示される品目やメディアを表示します。

このロジックを使用すると、サイトで最も閲覧された品目に基づいてレコメンデーションを表示し、他の品目のコンバージョンを増やすことができます。 例えば、メディアサイトでは、最も多く視聴されたビデオに関するレコメンデーションをホームページに表示して、訪問者に追加のビデオを見るよう促すことができます。

このロジックは、次のレコメンデーションキーで使用できます。

* 現在のカテゴリ
* カスタム属性
* お気に入りのカテゴリ
* 人気度

### これを購入した人が他に購入したもの {#bought-bought}

指定した品目と同時に顧客に購入される頻度が最も高い品目をレコメンドします。

このロジックは、顧客がこの商品を購入した後に購入した他の商品を返します。指定した製品は結果セットに含まれません。

このロジックを使用すると、他の購入者が購入した品目を表示するなど、買い物かごサマリページにレコメンデーションを表示して、クロス販売機会を増やすことができます。 例えば、訪問者がスーツを購入する場合、レコメンデーションでは、ネクタイ、ドレスシューズ、カッフリンクなど、スーツと共に購入した他の訪問者も表示できます。 訪問者が購入を確認する際に、追加の推奨事項を提示します。

このロジックは、次のレコメンデーションキーで使用できます。

* 現在の品目
* カスタム属性
* 最後に購入された品目
* 最後に閲覧された品目
* 最も多く閲覧された品目

### これを閲覧した人が購入したもの {#viewed-bought}

指定した品目が閲覧された同じセッションで、購入される頻度が最も高い品目をレコメンドします。この条件によって、顧客が指定の商品を閲覧した後で購入した他の商品が返されるので、指定した商品は結果セットに含まれません。

このロジックは、訪問者がこの商品を閲覧した後に購入した他の商品を返します。指定した製品は結果セットに含まれません。

このロジックを使用すると、商品を表示した他の訪問者が購入した品目を表示する商品など、商品ページにレコメンデーションを表示して、クロス販売機会を増やすことができます。 例えば、訪問者が釣り竿を見ている場合、タックルボックス、ワーダー、釣り用ポアなど、他に購入した訪問者が表示されることがあります。 訪問者がサイトを閲覧する際に、追加の購入レコメンデーションを提供します。

このロジックは、次のレコメンデーションキーで使用できます。

* 現在の品目
* カスタム属性
* 最後に購入された品目
* 最後に閲覧された品目
* 最も多く閲覧された品目

### これを閲覧した人が他に閲覧したもの {#viewed-viewed}

指定した品目が閲覧された同じセッションで、閲覧される頻度が最も高い品目をレコメンドします。

このロジックは、訪問者がこの商品を閲覧した後に閲覧した他の商品を返します。指定した製品は結果セットに含まれません。

このロジックを使用すると、ある品目を閲覧した他の訪問者も閲覧した品目をレコメンデーションすることで、追加のコンバージョン機会を作成できます。 例えば、サイトで表示ロードバイクを利用している訪問者は、バイクのヘルメット、サイクリングキット、ロックなども閲覧できます。 このロジックを使用してレコメンデーションを作成し、売上高の増加に役立つ他の製品を提案できます。

このロジックは、次のレコメンデーションキーで使用できます。

* 現在の品目
* カスタム属性
* 最後に購入された品目
* 最後に閲覧された品目
* 最も多く閲覧された品目

### サイトの親和性 {#site-affinity}

品目間の関係の確実性に基づいて品目をレコメンドします。この条件を設定して、レコメンデーションが提示される前に必要となるデータ量をインクルージョンルールスライダーで決定できます。例えば、「非常に強い」を選択すると、適合する確実性が最も強い商品がレコメンデーションされます。

例えば、非常に強い親和性を設定して、デザインに 5 つの品目を含め、そのうちの 3 つが結びつきの強さのしきい値を満たしている場合、強さの最低要件を満たさない 2 つの品目は、レコメンデーションには表示されず、あらかじめ定義された代替品目が代わりに表示されます。最も強い親和性を持つ品目が最初に表示されます。

例えば、オンライン小売業者は、その後の訪問で、過去のセッションで訪問者が興味を示した品目をレコメンデーションできます。 各訪問者のセッションのアクティビティを捕捉し、最新性と頻度のモデルに基づいてアフィニティを計算する。 この訪問者がサイトに戻ると、サイトのアフィニティは、サイト上で過去に行われたアクションに基づいてレコメンデーションを表示するのに使用されます。

多様な商品コレクションや多様なサイト行動のある顧客の場合は、サイトの親和性を弱く設定した方が、最適な結果が得られることがあります。

このロジックは、次のレコメンデーションキーで使用できます。

* 現在の品目
* 最後に購入された品目
* 最後に閲覧された品目
* 最も多く閲覧された品目

### トップセラー {#top-sellers}

完了した注文の中で最も多く含まれる項目を表示します。 1 回の注文で同じ品目が複数含まれていても、1 回の注文としてカウントします。

このロジックを使用すると、サイトでトップセル商品のレコメンデーションを作成して、コンバージョンと売上高を増やすことができます。 このロジックは、サイトへの初回訪問者に特に適しています。

このロジックは、次のレコメンデーションキーで使用できます。

* お気に入りのカテゴリ
* 人気度

### ユーザーベースのRecommendations{#user-based}

各訪問者の閲覧、表示および購入履歴に基づいて品目をレコメンドします。 これらの品目は、一般に「推奨」と呼ばれます。

この条件により、新規訪問者と再訪問者の両方に対して、パーソナライズされたコンテンツとエクスペリエンスを提供できます。 レコメンデーションのリストは、訪問者の最新のアクティビティに重み付けされ、セッション内で更新され、ユーザーがサイトを閲覧する際にパーソナライズされます。

レコメンデーション品目は、表示と購入の両方を使用して決定されます。 指定したレコメンデーションキー（「現在の品目」など）は、選択したインクルージョンルールのフィルターを適用するために使用されます。

例えば、次のことができます。

* 特定の条件を満たさない品目（在庫切れの製品、30日以上前に公開された記事、Rに分類された映画など）を除外します。
* 含めるカテゴリを1つのカテゴリまたは現在のアイテムに制限する。

このロジックは、次のレコメンデーションキーで使用できます。

* 現在の品目
* 最後に購入された品目
* 最後に閲覧された品目
* 最も多く閲覧された品目